<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Pantry Master — Admin</title>
<style>
    header{
    background: linear-gradient(90deg,var(--green),#1f7a35);
    color:#fff;
    padding:16px 6%;
    display:flex;
    justify-content:space-between;
    align-items:center;
  }

  .brand{
    font-weight:700;
    font-size:22px;
    letter-spacing:1px;
  }

  nav{
    display:flex;
    gap:40px; /* spacing between menu items */
  }

  nav a{
    position:relative;
    color:#fff;
    text-decoration:none;
    font-weight:600;
    font-size:16px;
    transition:all .3s ease;
  }

  /* Hover animations */
  nav a::after{
    content:'';
    position:absolute;
    bottom:-4px;
    left:0;
    width:0%;
    height:3px;
    background:#fff;
    transition:width .3s ease;
    border-radius:2px;
  }

  nav a:hover::after{
    width:100%;
  }

  nav a:hover{
    color:#f4f4f4;
    transform:translateY(-2px);
  }
  :root{--green:#2b8a3e;--accent:#3fa14a;--bg:#f7f7f7}
  body{margin:0;font-family:Inter,Arial,sans-serif;background: linear-gradient(120deg, #f0f1f3 0%, #3a7551 100%);}
  header{background: linear-gradient(90deg,var(--green),#23462c);color:#fff;padding:12px 20px;display:flex;justify-content:space-between;align-items:center}
  nav a{color:#fff;text-decoration:none;margin-left:12px;font-weight:600}
  .wrap{padding:20px 6%}
  .grid{display:grid;grid-template-columns:1fr 360px;gap:18px}
  .panel{background:#fff;padding:16px;border-radius:10px;box-shadow:0 8px 26px rgba(0,0,0,.06)}
  table{width:100%;border-collapse:collapse}
  td,th{padding:8px;border-bottom:1px solid #eee;text-align:left}
  input{width:100%;padding:8px;margin-top:6px;border-radius:8px;border:1px solid #e6e6e6}
  button{background:var(--accent);color:#fff;padding:10px;border:none;border-radius:8px;margin-top:10px;cursor:pointer}
  .badge{background:#f0f9f4;border-left:6px solid var(--green);padding:10px;border-radius:8px}
  .pulse{animation:addPulse .5s ease}
  @keyframes addPulse{0%{transform:scale(.98)}50%{transform:scale(1.03)}100%{transform:scale(1)}}
  /* ... your existing CSS code ... */

  /* ✅ Add this at the bottom of your CSS */
  @media (max-width: 768px) {
    nav { 
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
    }

    .hero {
      grid-template-columns: 1fr;
      text-align: center;
    }

    .hero-right {
      height: 220px;
      margin-top: 20px;
    }

    .features {
      flex-direction: column;
      align-items: center;
    }

    .grid {
      grid-template-columns: 1fr 1fr;
    }
  }

  @media (max-width: 480px) {
    nav {
      flex-direction: column;
      gap: 12px;
    }

    .grid {
      grid-template-columns: 1fr;
    }

    .hero-left h1 {
      font-size: 26px;
    }

    .cta {
      width: 100%;
    }
  }

</style>
</head>
<body>
<header>
  <img src="logo.jpg" alt="Logo" width="60">
  <div style="font-weight:700">Pantry Master • Admin</div>
  <div>
    <nav>
    <a href="index.html">Home</a>
    <a href="products.html">Products</a>
    <a href="cart.html">Cart</a>
    <a href="checkout.html">Checkout</a>
    <a href="login.html">Login</a>
    <a href="admin.html">Admin</a>
    </nav>
  </div>
</header>

<main class="wrap">
  <div class="grid">
    <div class="panel">
      <h3>Products Inventory</h3>
      <table id="inv">
        <thead><tr><th>Name</th><th>Price</th></tr></thead>
        <tbody></tbody>
      </table>
      <div style="margin-top:14px" id="info"></div>
    </div>

    <div class="panel">
      <h3>Add New Product</h3>
      <label>Product name</label>
      <input id="n" placeholder="e.g. Avocado (1pc)">
      <label>Price (Ksh)</label>
      <input id="pr" type="number" placeholder="e.g. 80">
      <label>Image URL</label>
      <input id="img" placeholder="paste image url here">
      <button id="add">Add product</button>
    </div>
  </div>
</main>

<script>
(function checkAdmin(){
  const ok = sessionStorage.getItem('isAdmin');
  if(!ok){ alert('Admin access required. Redirecting to login.'); location.href='login.html'; }
})();

function renderInv(){
  const prods = JSON.parse(localStorage.getItem('pantryProducts')||'[]');
  const tbody = document.querySelector('#inv tbody');
  tbody.innerHTML = '';
  prods.forEach(p => {
    const tr = document.createElement('tr');
    tr.innerHTML = `<td>${p.name}</td><td>Ksh ${p.price}</td>`;
    tbody.appendChild(tr);
  });
  document.getElementById('info').innerHTML = `<div class="badge">${prods.length} products in inventory</div>`;
}
renderInv();

document.getElementById('add').addEventListener('click', ()=>{
  const name = document.getElementById('n').value.trim();
  const price = parseInt(document.getElementById('pr').value)||0;
  const img = document.getElementById('img').value.trim() || 'https://images.unsplash.com/photo-1542831371-d531d36971e6?auto=format&fit=crop&w=800&q=60';
  if(!name || price<=0){ alert('Provide valid name and price'); return; }
  const prods = JSON.parse(localStorage.getItem('pantryProducts')||'[]');
  const newP = {id: Date.now(), name, price, img};
  prods.push(newP);
  localStorage.setItem('pantryProducts', JSON.stringify(prods));
  // nice visual feedback
  document.getElementById('add').classList.add('pulse');
  setTimeout(()=> document.getElementById('add').classList.remove('pulse'), 480);
  document.getElementById('n').value=''; document.getElementById('pr').value=''; document.getElementById('img').value='';
  renderInv();
  // inform other tabs/pages
  localStorage.setItem('pantryProductsUpdatedAt', Date.now());
});
</script>
</body>
</html>
